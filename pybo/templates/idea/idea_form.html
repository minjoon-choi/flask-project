{% extends 'base.html' %}
{% block content %}
<div class="container">
    <h4 class="my-3 font-weight-bold border-bottom" style="padding: 0.3rem 0">아이디어 제안 등록</h5>
        <form method="post" class="post-form my-3">
            {{ form.csrf_token }}
            <!-- 오류표시 Start -->
            {% for field, errors in form.errors.items() %}
            <div class="alert alert-danger" role="alert">
                <strong>{{ form[field].label }}</strong>: {{ ', '.join(errors) }}
            </div>
            {% endfor %}
            <!-- 오류표시 End -->
            <h5 class="font-weight-bold" style="margin-top:2rem">아이디어 기본정보</h5>
            <div class="form-group border border-gray rounded" style="padding: 10px 10px">
                <div class="row">
                    <div class="col-2">
                        <label for="ideaType">아이디어 유형</label>
                        <select class="form-control" name="ideaType" id="ideaType"
                            value="{{ form.ideaType.data or '' }}">
                            <option>대체원료</option>
                            <option>공급사최적화</option>
                            <option>SPEC최적화</option>
                            <option>선도구매</option>
                            <option>협상</option>
                        </select>
                    </div>
                    <div class="col-6">
                        <label for="ideaTitle">제안명</label>
                        <input type="text" class="form-control" name="ideaTitle" id="ideaTitle"
                            value="{{ form.ideaTitle.data or '' }}">
                    </div>
                    <div class="col-2">
                        <label for="priceBefore">기존 단가</label>
                        <input type="text" class="form-control" name="priceBefore" id="priceBefore"
                            value="{{ form.priceBefore.data or '' }}">
                    </div>
                    <div class="col-2">
                        <label for="priceAfter">변경 단가</label>
                        <input type="text" class="form-control" name="priceAfter" id="priceAfter"
                            value="{{ form.priceAfter.data or '' }}">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 pt-3"><label for="content">아이디어 세부내용</label>
                        <textarea class="form-control" name="content" id="content"
                            rows="5">{{ form.content.data or '' }}</textarea>
                    </div>
                </div>
            </div>
            <h5 class="font-weight-bold" style="margin-top:2rem">대상품목 리스트</h5>
            <div class="form-group border border-gray rounded" style="padding: 10px 10px">
                {% for prod in form.prodEntry %}
                {{ prod.hidden_tag() }}
                <div class="row">
                    <div class="col-2">
                        <p>진행현황</p>
                    </div>
                    <div class="col-2">
                        <p>고객사명</p>
                    </div>
                    <div class="col-2">
                        <p>계열사품목코드</p>
                    </div>
                    <div class="col-2">
                        <p>적용시작월</p>
                    </div>
                    <div class="col-2">
                        <p>적용종료월</p>
                    </div>
                    <div class="col-2">
                        <p>예상 절감액</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <select class="form-control" name="ideaStatus" id="ideaStatus"
                            value="{{ prod.ideaStatus.data or '' }}">
                            <option>제안</option>
                            <option>샘플요청</option>
                            <option>샘플접수</option>
                            <option>TEST 진행 중</option>
                            <option>제안확정</option>
                            <option>발주</option>
                            <option>입고</option>
                        </select>
                    </div>
                    <div class="col-2">
                        <select class="form-control" name="companyID" id="companyID"
                            value="{{ prod.companyID.data or '' }}">
                            <option value="PC00">파리크라상</option>
                            <option value="SP00">에스피엘</option>
                            <option value="SL00">에스피씨삼립</option>
                            <option value="A100">샤니</option>
                            <option value="B100">호남샤니</option>
                            <option value="BR00">비알코리아</option>
                            <option value="1000">밀다원</option>
                            <option value="AP00">그릭슈바인</option>
                            <option value="E100">에그팜</option>
                            <option value="SC01">에스피씨팩</option>
                            <option value="C100">샌드팜</option>
                        </select>
                    </div>
                    <div class="col-2">
                        <input type="text" class="form-control" name="prodID" id="prodID"
                            value="{{ prod.prodID.data or '' }}">
                    </div>
                    <div class="col-2">
                        <input type="month" data-date-format="YYYY-MM" class="form-control" name="effectBegin"
                            id="effectBegin" value="{{ prod.effectBegin.data or '' }}">
                    </div>
                    <div class="col-2">
                        <input type="month" data-date-format="YYYY-MM" class="form-control" name="effectEnd"
                            id="effectEnd" value="{{ prod.effectEnd.data or '' }}">
                    </div>
                    <div class="col-2">
                        <input type="text" class="form-control" name="estSavings" id="estSavings"
                            value="{{ prod.estSavings.data or '' }}">
                    </div>
                </div>
                {% endfor %}
            </div>
            <a id="add" href="#">Add Prod</a>

            <button type="submit" class="btn btn-primary">저장하기</button>
        </form>
</div>
{% endblock %}
{% block script %}
{% endblock %}